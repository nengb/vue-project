(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a7b7b7f"],{2241:function(t,e,n){"use strict";var a,i=n("c31d"),o=n("2b0e"),s=n("a142"),r=n("b650"),c=n("6605"),l=Object(s["h"])("dialog"),d=l[0],u=l[1],f=l[2],h=d({mixins:[c["a"]],props:{title:String,message:String,callback:Function,className:[String,Object,Array],beforeClose:Function,messageAlign:String,confirmButtonText:String,cancelButtonText:String,showCancelButton:Boolean,showConfirmButton:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!1}},data:function(){return{loading:{confirm:!1,cancel:!1}}},methods:{handleAction:function(t){var e=this;this.$emit(t),this.beforeClose?(this.loading[t]=!0,this.beforeClose(t,function(n){!1!==n&&e.onClose(t),e.loading[t]=!1})):this.onClose(t)},onClose:function(t){this.$emit("input",!1),this.callback&&this.callback(t)}},render:function(t){var e,n=this;if(this.shouldRender){var a=this.title,i=this.message,o=this.messageAlign,s=this.$slots.default,c=a&&t("div",{class:u("header",{isolated:!i&&!s})},[a]),l=(s||i)&&t("div",{class:u("content")},[s||t("div",{domProps:{innerHTML:i},class:u("message",(e={"has-title":a},e[o]=o,e))})]),d=this.showCancelButton&&this.showConfirmButton,h=t("div",{class:["van-hairline--top",u("footer",{buttons:d})]},[t(r["a"],{directives:[{name:"show",value:this.showCancelButton}],attrs:{size:"large",loading:this.loading.cancel,text:this.cancelButtonText||f("cancel")},class:u("cancel"),on:{click:function(){n.handleAction("cancel")}}}),t(r["a"],{directives:[{name:"show",value:this.showConfirmButton}],attrs:{size:"large",loading:this.loading.confirm,text:this.confirmButtonText||f("confirm")},class:[u("confirm"),{"van-hairline--left":d}],on:{click:function(){n.handleAction("confirm")}}})]);return t("transition",{attrs:{name:"van-dialog-bounce"}},[t("div",{directives:[{name:"show",value:this.value}],class:[u(),this.className]},[c,l,h])])}}}),m=function(){a=new(o["a"].extend(h))({el:document.createElement("div")}),a.$on("input",function(t){a.value=t}),document.body.appendChild(a.$el)},g=function t(e){return s["f"]?Promise.resolve():new Promise(function(n,o){a||m(),Object(i["a"])(a,t.currentOptions,e,{resolve:n,reject:o})})};g.defaultOptions={value:!0,title:"",message:"",overlay:!0,className:"",lockScroll:!0,beforeClose:null,messageAlign:"",confirmButtonText:"",cancelButtonText:"",showConfirmButton:!0,showCancelButton:!1,closeOnClickOverlay:!1,callback:function(t){a["confirm"===t?"resolve":"reject"](t)}},g.alert=g,g.confirm=function(t){return g(Object(i["a"])({showCancelButton:!0},t))},g.close=function(){a&&(a.value=!1)},g.setDefaultOptions=function(t){Object(i["a"])(g.currentOptions,t)},g.resetDefaultOptions=function(){g.currentOptions=Object(i["a"])({},g.defaultOptions)},g.install=function(){o["a"].use(h)},o["a"].prototype.$dialog=g,g.resetDefaultOptions();e["a"]=g},"2fcb":function(t,e,n){},"51cc":function(t,e,n){},a00d:function(t,e,n){"use strict";n.r(e);var a,i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page has-navbar",staticStyle:{transition:"none !important"}},[n("van-nav-bar",{attrs:{title:"确认订单",fixed:"",border:"","left-arrow":""},on:{"click-left":t.onClickLeft}}),n("div",{staticClass:"page-content text-center "},[n("div",{staticClass:"firmMyorder"},[n("div",{staticClass:"head-info"},[n("div",{staticClass:"addr-info"},[n("div",{staticClass:"addr-name"},[t._v(t._s(t.defaultAddr.name))]),n("div",{staticClass:"addr-detail"},[t._v(t._s(t.defaultAddr.addr))])]),n("div",{staticClass:"addr-tel"},[t._v(t._s(t.defaultAddr.tel))])]),n("div",{staticClass:"goodList"},t._l(t.goodList,function(e,a){return n("div",{staticClass:"goodListItem"},[n("div",{staticClass:"goodImg"},[n("img",{attrs:{src:e.img,alt:"",width:"100%",height:"100%"}})]),n("div",{staticClass:"goodInfo"},[t._v(t._s(e.name))]),n("div",{staticClass:"goodNum"},[n("van-stepper",{attrs:{min:1,max:e.total-e.change_num},model:{value:e.changeTotal,callback:function(n){t.$set(e,"changeTotal",n)},expression:"item.changeTotal"}})],1)])}),0),n("div",{staticClass:"mybag-btn",on:{click:function(e){t.sendGood()}}},[t._v("确认发货")])])])],1)},o=[],s=n("f499"),r=n.n(s),c=(n("ac6a"),n("a481"),n("96cf"),n("3b8d")),l=n("bd86"),d=(n("68ef"),n("4d75"),n("2fcb"),n("2241")),u=(n("e7e5"),n("d399")),f=(n("f06a"),n("20fb")),h=(n("7f7f"),n("5246"),n("6b41")),m=n("c621"),g=n("5552"),p=(g["a"].genQueryString,g["a"].getQueryStringArgsAes),v={components:(a={},Object(l["a"])(a,h["a"].name,h["a"]),Object(l["a"])(a,f["a"].name,f["a"]),Object(l["a"])(a,u["a"].name,u["a"]),Object(l["a"])(a,d["a"].name,d["a"]),a),data:function(){return{defaultAddr:{},goodList:[]}},created:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=p(),n=e.sendGoodList,n){t.next=4;break}return this.$router.push("/"),t.abrupt("return");case 4:return n.map(function(t){return t.changeTotal=t.total,t}),this.goodList=n,t.next=8,m["a"].get_default_addr();case 8:a=t.sent,a&&a.data&&(a.data.addr=a.data.addr.replace(/\/[0-9]*$/,""),this.defaultAddr=a.data),console.log(n);case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{onClickLeft:function(){this.$router.back()},sendGood:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,n,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=[],n=this.defaultAddr.addr_id,this.goodList.forEach(function(t){e.push({goodid:t.good_id,num:t.changeTotal})}),console.log(e),d["a"].confirm({title:"",message:"确定发货吗？"}).then(Object(c["a"])(regeneratorRuntime.mark(function t(){var i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m["a"].wawa_to_user({good_arr:r()(e),addrid:n,game_type:14});case 2:i=t.sent,i&&0==i.errcode?u["a"].success("发货成功"):u["a"].fail("发货失败"),a.$router.back();case 5:case"end":return t.stop()}},t,this)}))).catch(function(){Object(u["a"])("取消发货")});case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},b=v,C=(n("e6f34"),n("2877")),w=Object(C["a"])(b,i,o,!1,null,null,null);w.options.__file="FirmMyorder.vue";e["default"]=w.exports},b650:function(t,e,n){"use strict";var a=n("a142"),i=n("543e"),o=Object(a["h"])("button"),s=o[0],r=o[1];e["a"]=s({props:{text:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,disabled:Boolean,nativeType:String,bottomAction:Boolean,tag:{type:String,default:"button"},type:{type:String,default:"default"},size:{type:String,default:"normal"}},methods:{onClick:function(t){this.loading||this.disabled||this.$emit("click",t)}},render:function(t){return t(this.tag,{attrs:{type:this.nativeType,disabled:this.disabled},class:r([this.type,this.size,{block:this.block,plain:this.plain,round:this.round,square:this.square,loading:this.loading,disabled:this.disabled,"bottom-action":this.bottomAction}]),on:{click:this.onClick}},[this.loading?t(i["a"],{attrs:{size:"20px",color:"default"===this.type?void 0:""}}):t("span",{class:r("text")},[this.$slots.default||this.text])])}})},e6f34:function(t,e,n){"use strict";var a=n("51cc"),i=n.n(a);i.a}}]);
//# sourceMappingURL=chunk-5a7b7b7f.22d18783.js.map